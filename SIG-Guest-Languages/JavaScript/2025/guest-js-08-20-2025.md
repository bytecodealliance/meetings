# August 20, 2025 | [JavaScript subgroup (BA Guest Languages SIG)](https://www.google.com/calendar/event?eid=NmQ0NzY0cW9hYXFsc3FiaW41YjBxOGpyc21fMjAyNDA4MDdUMTcwMDAwWiBjYWx2aW5AamFmbGFicy5jb20)

# Meeting summary


## Quick recap
The team discussed various technical implementations and issues related to environment variables, time origins, and static analysis in StarlingMonkey and ComponentizeJS. They addressed challenges with Spider Monkey assertions, bus binding, and the potential replacement of JavaScript infrastructure, while also reviewing progress on server projects and ComponentizeJS updates. The conversation ended with discussions about Debugger releases, documentation contributions, and ongoing work on jco, including updates on Wasi P3 prototyping and memory leak fixes.

## Next steps
- Tomasz to implement a solution for environment variables in StarlingMonkey using Wazi APIs instead of Node.js API.
- Tomasz to prepare a PR to set the time origin in StarlingMonkey to Unix epoch to fix time-related errors in componentized.js.
- Tomasz to consider moving static analyzer checks into a separate CI job to improve build times .
- Till to fix the latest release tag in StarlingMonkey.
- Till to add links to the VS Code debugger in componentized-js documentation.
- Ralph to contribute documentation section about debugging to StarlingMonkey documentation.
- Victor to update component docs with information about the VS Code debugger.
- Victor to investigate if the continuous memory growth issue in componentized.js is related to the memory leak fixed in jco.


## Summary

### Team Updates and Summer Discussion
Calvin and Till discussed the hot weather in Texas and the mild summer in Till's location. They mentioned that neither Calvin's team nor Till's team would be attending Kubecon. Rajiv joined the call briefly, and Tomasz joined late. Till mentioned he had a few "starting monkey things" to discuss, but didn't elaborate further.

### StarlingMonkey Environment Variables
Tomasz and Till discussed the implementation of environment variables in StarlingMonkey, considering whether to use Node.js API or other methods. Till suggested making it an optional feature that can be enabled via command-line arguments, as an ad-hoc implementation might not be ideal. They also discussed using Wazi APIs for accessing environment variables, which Tomasz agreed to explore further. Additionally, they addressed an issue with accessing time-related functions in Node.js dependencies during ComponentizeJS runs, with Till mentioning ongoing discussions about the best approach to handle this.

### Unix Epoch for Time Snapshots
Till and Tomasz discussed using the Unix epoch (timestamp 0) as the time origin for snapshots, which would simplify the code and eliminate the need to reset the time origin. They agreed that Tomasz would prepare a PR for this change. Victor joined the meeting briefly but did not provide a significant update. The main focus was on addressing issues with component host JS not setting the time origin correctly and ensuring monotonicity of timestamps.

### Static Analysis and Assertion Fixes
Till and Tomasz discussed fixing issues related to Spider Monkey assertions when running GCC links and enabling a static analyzer. Tomasz mentioned that enabling static checks revealed several undefined behavior cases, particularly involving un-initialized variables and assumptions about null-terminated strings. They agreed to separate the static analysis job from the build and test jobs to improve parallelization, with Tomasz planning to create a new PR for this change.

### Debugger Release and Documentation Updates
The team discussed the completion of the stunning monkey work and the release of a new version of the Debugger. Till mentioned publishing a new version of the Debugger and using it with various projects, including bare HTTP servers and Component JS. Victor suggested adding a link to the Debugger on Component JS documentation to increase visibility. Tomasz mentioned that Ralph agreed to contribute a section to the StarlingMonkey documentation about debugging.

### jco Release Option Changes
Tomasz and Till discussed the handling of a new release option in jco and complementary JS, deciding to disable it due to potential issues with unknown arguments. Victor added a custom engine option, which led to a discussion about whether it should be a breaking change. They agreed that it would require a new major version of jco, and Till fixed the latest release setting to the correct version. The team also discussed the importance of proper semantic versioning and the need to propagate changes gradually between different components.

### Bus Binding and JavaScript Integration
Till discussed his work on bus binding and the challenges of integrating JavaScript infrastructure from Tsavo. He explored the possibility of replacing most of Spider Monkey with Go, but noted substantial changes would be needed and the outcome is uncertain. Victor asked about refactoring upstream to reuse code, to which Till responded with three potential outcomes: a hard fork, maintaining a fork with refactoring, or restructuring upstream to allow for dependency on crates. Tomasz inquired about using Firefox's DOM implementation, but Till clarified that Servo has its own implementations.

### Server and ComponentizeJS Project Updates
The team discussed ongoing work on server projects and ComponentizeJS. Till shared potential connections and maintenance benefits of a specific server project, while Victor reported on recent updates to ComponentizeJS, including a new bug related to memory space limitations and the deprecation of AOT. jco provided an update on jco 1.13.3, mentioning progress on Wasi P3 prototyping, a memory leak fix, and the addition of automation for updating pull requests after releases. Calvin inquired about the status of Wasi P3 in jco, and Victor explained that about 12 out of 72 test components have been successfully transpiled and tested so far.
